<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>VMC Examples: Example E03</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">VMC Examples<span id="projectnumber">&#160;Version 6.7</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div><div class="header">
  <div class="headertitle"><div class="title">Example E03</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="e03_s1"></a>
Description</h1>
<p>The Geant4 ExampleN03 adapted to Virtual Monte Carlo and extended for testing some other <a class="el" href="namespaceVMC.html">VMC</a> features. Since Geant4 <a class="el" href="namespaceVMC.html">VMC</a> v4.0, the example is provided in two variants:</p><ul>
<li>E03a - scoring via sensitive volumes and MCApplication::Stepping (old way)</li>
<li>E03b - scoring via sensitive detectors derived from new <a class="el" href="classTVirtualMCSensitiveDetector.html">TVirtualMCSensitiveDetector</a> interface</li>
<li>E03c - adapted from E03a demonstrating the usage of sharing event simulation amongs multiple different engines.</li>
</ul>
<p>It demonstrates:</p><ul>
<li>Geometry - divided volume (Gsdvn)</li>
<li>Definition of sensitive volumes</li>
<li>Definition of <a class="el" href="namespaceVMC.html">VMC</a> sensitive detectors (new since v3.7)</li>
<li>Physics - hadronics processes off</li>
<li>Particles cuts: G4 cut in range: 1mm; G3 cuts set to correspond to 1mm cut in range</li>
<li>Primary generator with randomized position (optional), defined number of electrons with moving position and fixed direction</li>
<li>Calorimetry hits</li>
<li>Storing hits, particles stack in Root file</li>
<li>Drawing geometry (G3, G3+TGeo, G4) + trajectories (G3+TGeo and G4)</li>
<li>Verbosity</li>
<li>Geometry defined via Geant4 (G4)</li>
<li>User defined physics list (G4) (Use of user own defined physics list is demonstrated on the LHEP_BERT hadronics physics list provided in Geant4.)</li>
<li>User defined particles and ions (G3, G4)</li>
<li>User defined regions (G4)</li>
<li>User defined magnetic field equation of motion and/or its integrator (G4)</li>
</ul>
<p>E03c specifics: The simulation is configured such that the volume GAPX (ABSO) is simulated by GEANT3 (GEANT4) and the volume ABSO (GAPX) is taken care of by GEANT4 (GEANT3). Tracks are intercepted when necessary and transferred automatically to the stack of the responsible engine. The user stack is managed automatically as well and contains no intermediate stages of transported particles.</p>
<p>This example contains the minimal addition of code necessary to achieve this behaviour when compared to examples E03a/b.</p>
<p>See also description of in geant4/examples/basic/B4</p>
<h1><a class="anchor" id="e03_s3"></a>
Macros</h1>
<p>For running example with G3: </p><pre>
  <a class="el" href="load__g3a_8C.html"> load_g3a.C    </a> - macro to load the libraries (variant E03a) to run the example with Geant3
  <a class="el" href="load__g3b_8C.html"> load_g3b.C    </a> - macro to load the libraries (variant E03b) to run the example with Geant3
  <a class="el" href="load__g3c_8C.html"> load_g3c.C    </a> - macro to load the libraries (variant E03c) to run the example with Geant3
  <a class="el" href="E03_2run__g3_8C.html"> run_g3.C      </a> - macro for running example
  <a class="el" href="E03_2g3tgeoConfig_8C.html"> g3tgeoConfig.C</a> - configuration macro for G3 with TGeo geometry(default)
  <a class="el" href="E03_2g3Config_8C.html"> g3Config.C    </a> - configuration macro for G3 with native geometry
  <a class="el" href="E03_2set__g3__vis_8C.html"> set_g3_vis.C  </a> - setting Geant3 TGeo visualization (called by run_g3.C)
  </pre><p>For running example with G4: </p><pre>
  <a class="el" href="load__g4a_8C.html"> load_g4a.C     </a> - macro to load the libraries (variant E03a) to run the example with Geant4
  <a class="el" href="load__g4b_8C.html"> load_g4b.C     </a> - macro to load the libraries (variant E03b) to run the example with Geant4
  <a class="el" href="load__g4c_8C.html"> load_g4c.C     </a> - macro to load the libraries (variant E03c) to run the example with Geant4
  <a class="el" href="E03_2run__g4_8C.html"> run_g4.C       </a> - macro for running example
  <a class="el" href="E03_2g4Config_8C.html"> g4Config.C     </a> - configuration macro - G4 native geometry navigation (default)
  <a class="el" href="E03_2g4Config1_8C.html"> g4Config1.C    </a> - configuration macro - geometry defined via Geant4
  <a class="el" href="E03_2g4Config2_8C.html"> g4Config2.C    </a> - configuration macro - user defined physics list (LHEP_BERT)
  <a class="el" href="g4Config3_8C.html"> g4Config3.C    </a> - configuration macro - user defined regions
  <a class="el" href="g4Config4_8C.html"> g4Config4.C    </a> - configuration macro - activation of <a class="el" href="namespaceVMC.html">VMC</a> cuts and process controls
  <a class="el" href="g4Config5_8C.html"> g4Config5.C    </a> - configuration macro - activation of user defined magnetic field equation of motion and/or its integrator
  <a class="el" href="E03_2g4tgeoConfig_8C.html"> g4tgeoConfig.C </a> - configuration macro - G4 with TGeo navigation
  <a class="el" href="g4tgeoConfig3_8C.html"> g4tgeoConfig3.C</a> - configuration macro - user defined regions, G4 with TGeo navigation
  <a class="el" href="g4tgeoConfig4_8C.html"> g4tgeoConfig4.C</a> - configuration macro - activation of <a class="el" href="namespaceVMC.html">VMC</a> cuts and process controls, TGeo navigation
  <a class="el" href="g4tgeoConfig5_8C.html"> g4tgeoConfig5.C</a> - configuration macro - activation of user defined magnetic field equation of motion and/or its integrator
  <a class="el" href="g4ConfigEnv_8C.html"> g4ConfigEnv.C  </a> - configuration macro - physics list defined via environment variable
  <a class="el" href="E03_2set__g4__vis_8C.html"> set_g4_vis.C   </a> - setting Geant4 visualization (called by run_g4.C)
   g4config.in   - macro for G4 configuration using G4 commands (called from g4Config.C)
   g4config2.in  - macro for G4 configuration using G4 commands (called from g4Config2.C)
   g4vis.in      - macro for G4 visualization settings (called from set_g4_vis.C)
  </pre><h1><a class="anchor" id="e03_s4"></a>
To run example (Ex03a)</h1>
<pre>
  With G3 + TGeo:
  root[0] .x <a class="el" href="load__g3a_8C.html"> load_g3a.C</a>
  root[1] .x <a class="el" href="E03_2run__g3_8C.html"> run_g3.C</a>

  With G4:
  root[0] .x <a class="el" href="load__g4a_8C.html"> load_g4a.C</a>
  root[1] .x <a class="el" href="E03_2run__g4_8C.html"> run_g4.C</a>

  With G4 + TGeo navigation:
  root[0] .x <a class="el" href="load__g4a_8C.html"> load_g4a.C</a>
  root[1] .x <a class="el" href="E03_2run__g4_8C.html"> run_g4.C</a>(<a class="el" href="E03_2g4tgeoConfig_8C.html"> "g4tgeoConfig.C"</a>);

  With G4 with geometry defined via Geant4:
  root[0] .x <a class="el" href="load__g4a_8C.html"> load_g4a.C</a>
  root[1] .x <a class="el" href="E03_2run__g4_8C.html"> run_g4.C</a>(<a class="el" href="E03_2g4Config1_8C.html"> "g4Config1.C"</a>);

  With G4 with user defined physics list:
  root[0] .x <a class="el" href="load__g4a_8C.html"> load_g4a.C</a>
  root[1] .x <a class="el" href="E03_2run__g4_8C.html"> run_g4.C</a>(<a class="el" href="E03_2g4Config2_8C.html"> "g4Config2.C"</a>);

  With G4 with user defined regions:
  root[0] .x <a class="el" href="load__g4a_8C.html"> load_g4a.C</a>
  root[1] .x <a class="el" href="E03_2run__g4_8C.html"> run_g4.C</a>(<a class="el" href="g4Config3_8C.html"> "g4Config3.C"</a>);

  With G4 + TGeo navigation with user defined regions:
  root[0] .x <a class="el" href="load__g4a_8C.html"> load_g4a.C</a>
  root[1] .x <a class="el" href="E03_2run__g4_8C.html"> run_g4.C</a>(<a class="el" href="g4tgeoConfig3_8C.html"> "g4tgeoConfig3.C"</a>);
  </pre><p>To run the Ex03b or Ex03c variant, use <a class="el" href="load__g3b_8C.html" title="Macro for loading libraries to run example E03b with Geant3.">load_g3b.C</a> and <a class="el" href="load__g4b_8C.html" title="Macro for loading libraries to run example E03b with Geant4.">load_g4b.C</a> or <a class="el" href="load__g3c_8C.html">load_g3c.C</a> and <a class="el" href="load__g4c_8C.html">load_g4c.C</a> macros.</p>
<h1><a class="anchor" id="e03_s5"></a>
To run the Ex03c variant with multiple engines:</h1>
<pre>
  With G3 and G4 + TGeo (no other geometry available):
  root[0] .x <a class="el" href="load__multi_8C.html"> load_multi.C</a>
  root[1] .x <a class="el" href="run__multi_8C.html"> run_multi.C</a>
  </pre><h1><a class="anchor" id="e03_s6"></a>
Classes</h1>
<p>The documentation of all classes and the basic macros for this example is availabe on <a class="el" href="group__E03.html">this page </a>. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Jul 10 2025 13:13:49 for VMC Examples by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
